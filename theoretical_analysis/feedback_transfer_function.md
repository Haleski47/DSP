# 带反馈系统的传递函数建模

设前向通道（前向传递函数）为 **H(s)**，反馈通道（反馈传递函数）为 **G(s)**，输入为 **X(s)**，输出为 **Y(s)**。

---

## 1. 负反馈（最常见）

负反馈结构：误差信号  
\[
E(s)=X(s)-G(s)Y(s)
\]

前向通道输出：  
\[
Y(s)=H(s)E(s)
\]

联立得：  
\[
Y(s)=H(s)\bigl(X(s)-G(s)Y(s)\bigr)
\]
\[
Y(s)=H(s)X(s)-H(s)G(s)Y(s)
\]
\[
\bigl(1+H(s)G(s)\bigr)Y(s)=H(s)X(s)
\]

因此，总传递函数（闭环传递函数）为  
\[
Q(s)=\frac{Y(s)}{X(s)}=\frac{H(s)}{1+H(s)G(s)}
\]

---

## 2. 正反馈（如显式说明为“+”反馈）

正反馈结构：误差信号  
\[
E(s)=X(s)+G(s)Y(s)
\]

同理可得闭环传递函数：  
\[
Q(s)=\frac{Y(s)}{X(s)}=\frac{H(s)}{1-H(s)G(s)}
\]

---

## 3. 总结

- **负反馈：**
\[
Q(s)=\frac{H(s)}{1+H(s)G(s)}
\]

- **正反馈：**
\[
Q(s)=\frac{H(s)}{1-H(s)G(s)}
\]

## 示例：
### 二阶IIR滤波器
对于二阶IIR滤波器来说，反馈项 $a_1y_1, a_2y_2$共同构成$H(s)G(s)$, 反馈增益G:
\[
G = \frac{a_1y_1 + a_2y_2}{b_0x_0 + b_1x_1 + b_2x_2}
\]
反馈增益G用来评估量化噪声的增幅。